"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.dynamicImport = exports.walkDirectory = void 0;
const util_1 = require("util");
try {
    // eslint-disable-next-line @typescript-eslint/no-implied-eval
    exports.walkDirectory = Function("require", "promisify", /*javascript*/ `
        // try breaking this, rollup
        const { walk } = require("@nodelib/fs.walk");
        return promisify(walk);
    `)(require, util_1.promisify);
}
catch (error) {
    // eslint-disable-next-line @typescript-eslint/require-await
    exports.walkDirectory = async () => {
        throw new Error("This feature is not available in this environment!", { cause: error });
    };
}
// get the real dynamic import() function, because the typescript compiler will override it to use require() >:(
// eslint-disable-next-line @typescript-eslint/no-implied-eval
exports.dynamicImport = Function("importSpecifier", /*javascript*/ `
    return import(importSpecifier);
`);
//# sourceMappingURL=compilerFighting.js.map